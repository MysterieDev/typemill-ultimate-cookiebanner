window.addEventListener("DOMContentLoaded", function(){

	// add Version of the banner
	window.cookieBannerVersion = {{settings.plugins.cookieconsent.consentversion}}

	// required Cookies
	const templateDivRequired = document.createElement('DIV');
	templateDivRequired.innerHTML =
	`<template id="cookieDefReq">
	{{markdown(settings.plugins.cookieconsent.required)}}
	</template>`
	document.body.appendChild(templateDivRequired);

	// functional Cookies
	const templateDivFunctional = document.createElement('DIV');
	templateDivFunctional.innerHTML = `<template id="cookieDefFun">
	{{markdown(settings.plugins.cookieconsent.functional)}}
	</template>`
	document.body.appendChild(templateDivFunctional)

	// marketing Cookies
	const templateDivMarketing = document.createElement('DIV');
	templateDivMarketing.innerHTML = `<template id="cookieDefMar">
	{{markdown(settings.plugins.cookieconsent.marketing)}}
	</template>`
	document.body.appendChild(templateDivMarketing)

	const rootDiv = document.createElement('DIV');
	rootDiv.id = "solidApp"
	document.body.appendChild(rootDiv);
	const script = document.createElement('SCRIPT');
	const vendor = document.createElement('SCRIPT');
	script.src = '/plugins/cookieconsent/public/cookiebanner-index.min.js';
	script.type = 'module';
	vendor.src = '/plugins/cookieconsent/public/cookiebanner-vendor.min.js';
	vendor.type  = 'module';
	document.body.appendChild(vendor);
	document.body.appendChild(script);
});